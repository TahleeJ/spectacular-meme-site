<!DOCTYPE html>
<html>

<head>
  <title> New Meme Post </title>
  {% include "templates/head.html" %}
  {% include "templates/topnav.html" %}
  <link rel = "stylesheet" href = "../static/styles/profile.css"/>

</head>

<body>
  <div id="home" class="main">
    <div id = "sticky">
      <section id = "postType">
      <a href = "#profilePosts"><button id = "yourPost"> Your Posts </button></a>
      <a href = "#likedPosts"><button id = "likedPost"> Liked Posts </button></a>
    </section>
    </div>
    <h1 id="mainTitle">Profile </h1>
    <div id="profileInfoDiv" class="rowFlexbox">
    {% if user.postImage != None %}
      <img class = "profileIcon" src = "/img?img_id={{user.key.urlsafe()}}"></img>
    {% else %}
      <img class="profileIcon"src="../static/imgs/defaultProfileIcon.png"></img>
    {% endif %}
      <div id="profileDetails">
        <h2> Name: {{user.firstName}} {{user.lastName}} </h3>
        <h2> Email: {{user.email}} </h4>
      </div>
    </div id="profileInfoDiv">
    <br>
    <hr width=95%>
    <br>
    <h2> Your Posts </h2>
    <div id="profilePosts" >
      {% for post in userPosts %}
      <div id="{{post.key.urlsafe()}}"class="postContainer">
        <a href="viewPost.html?post_id={{post.key.urlsafe()}}">
          <img class="postImage"
            src="/img?img_id={{post.key.urlsafe()}}"
            ></img>
        </a>
        <div class="blogPost">
          <h2>{{post.postTitle}}</h2>

          <h3> By: <a href="profile.html?id={{post.postAuthor.urlsafe()}}">{{post.postAuthor.get().firstName}} {{post.postAuthor.get().lastName}} </a> on {{post.postTime.strftime("%b %d, %Y")}}</h3>

          <p> {{post.postDesc}} </p>

          <h4>
            <form id="likeform" method="post" action="/likeHandler?post_id={{post.key.urlsafe()}}">
              <input type="submit" value="Likes: {{post.likes}}" name="pseudolike">
            </form>
          </h4>

        </div>
        <hr width="80%">
      </div id="postContainer">
      {% endfor %}
    </div id="profilePosts">
    <br>
    <br>
    <h2> Liked Posts </h2>
    <div id ="likedPosts">
      {% for post in likedPosts %}
      <div id="{{post.urlsafe()}}"class="postContainer">
        <a href="viewPost.html?post_id={{post.urlsafe()}}">
          <img class="postImage"
            src="/img?img_id={{post.urlsafe()}}"
            ></img>
        </a>
        <div class="blogPost">
          <h2>{{post.get().postTitle}}</h2>

          <h3> By: <a href="profile.html?id={{post.get().postAuthor.urlsafe()}}">{{post.get().postAuthor.get().firstName}} {{post.get().postAuthor.get().lastName}} </a> on {{post.get().postTime.strftime("%b %d, %Y")}}</h3>

          <p> {{post.get().postDesc}} </p>

          <h4>
            <form id="likeform" method="post" action="/likeHandler?post_id={{post.urlsafe()}}">
              <input type="submit" value="Likes: {{post.get().likes}}" name="pseudolike">
            </form>
          </h4>

        </div>
        <hr width="80%">
      </div id="postContainer">
      {% endfor %}
    </div>
</div id ="main">




</body>
</html>
